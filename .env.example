# ============================================
# V2Ray + Nginx + Cloudflare Configuration
# ============================================
# This is the SINGLE source of truth for all environment variables.
# All services read from this file - no need to edit service-specific .env files.
# ============================================

# ============================================
# DOMAIN CONFIGURATION (REQUIRED)
# ============================================
DOMAIN=your-domain.com
VIRTUAL_HOST=${DOMAIN}
LETSENCRYPT_HOST=${DOMAIN}
LETSENCRYPT_EMAIL=your-email@example.com

# ============================================
# V2RAY CONFIGURATION (REQUIRED)
# ============================================
# Generate UUID with: uuidgen or cat /proc/sys/kernel/random/uuid
V2RAY_UUID=CHANGE-THIS-UUID
V2RAY_VERSION=v4.45.2

# ============================================
# PROTOCOL PORTS
# ============================================
VLESS_WS_PORT=1310
VLESS_GRPC_PORT=1311
VMESS_WS_PORT=1312

# ============================================
# PROTOCOL PATHS
# ============================================
VLESS_WS_PATH=/
VLESS_GRPC_SERVICE=grpc
VMESS_WS_PATH=/ws

# ============================================
# PROTOCOL ENABLEMENT (true/false)
# ============================================
VLESS_WS_ENABLED=true
VLESS_GRPC_ENABLED=true
VMESS_WS_ENABLED=true

# ============================================
# CONTAINER NAMES
# ============================================
NGINX_CONTAINER_NAME=nginx
V2RAY_CONTAINER_NAME=v2ray
DOCKERGEN_CONTAINER_NAME=dockergen
ACME_CONTAINER_NAME=nginx-proxy-acme

# ============================================
# SERVICE VERSIONS
# ============================================
NGINX_VERSION=1.22
DOCKER_GEN_VERSION=0.9
ACME_VERSION=2.2

# ============================================
# DOCKER SETTINGS
# ============================================
RESTART_POLICY=always
COMPOSE_PROJECT_NAME=v2ray-proxy

# ============================================
# V2RAY ADVANCED SETTINGS
# ============================================
V2RAY_VMESS_AEAD_FORCED=false
V2RAY_SECURITY=auto
V2RAY_ALTERID=0

# ============================================
# NETWORK CONFIGURATION
# ============================================
HTTP_PORT=80
HTTPS_PORT=443

# ============================================
# NGINX PROXY SETTINGS
# ============================================
NGINX_PROXY_CONTAINER=${NGINX_CONTAINER_NAME}
NGINX_DOCKER_GEN_CONTAINER=${DOCKERGEN_CONTAINER_NAME}
DEFAULT_EMAIL=${LETSENCRYPT_EMAIL}

# ============================================
# DOCKER-GEN SETTINGS
# ============================================
TEMPLATE_PATH=/etc/docker-gen/templates/nginx.tmpl
OUTPUT_PATH=/etc/nginx/conf.d/default.conf

# ============================================
# ACME/SSL SETTINGS
# ============================================
ACME_CA_URI=https://acme-v02.api.letsencrypt.org/directory
# For testing use: https://acme-staging-v02.api.letsencrypt.org/directory
DEBUG=0

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info
ENABLE_ACCESS_LOG=true
ENABLE_ERROR_LOG=true

# ============================================
# RESOURCE LIMITS (Optional - uncomment to use)
# ============================================
# CPU_LIMIT=1.0
# MEMORY_LIMIT=512M
# MEMORY_RESERVATION=256M